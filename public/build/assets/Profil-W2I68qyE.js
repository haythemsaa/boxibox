import{C as y}from"./ClientLayout-8AzT50KU.js";import{r as p,f as _,w as g,a as e,d as c,g as k,h as m,c as n,i as a,n as u,l as f,o as r,t as i,x as h}from"./app-D3-luHWI.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const w={components:{ClientLayout:y},props:{client:{type:Object,required:!0},user:{type:Object,required:!0},errors:{type:Object,default:()=>({})}},data(){return{processing:!1,form:{email:this.client.email||"",telephone:this.client.telephone||"",mobile:this.client.mobile||"",adresse:this.client.adresse||"",code_postal:this.client.code_postal||"",ville:this.client.ville||"",pays:this.client.pays||"France"}}},methods:{updateProfile(){this.processing=!0,h.put(route("client.profil.update"),this.form,{onSuccess:()=>{this.processing=!1},onError:()=>{this.processing=!1}})},formatDate(d){return d?new Date(d).toLocaleDateString("fr-FR"):""},formatDateTime(d){if(!d)return"";const s=new Date(d);return`${s.toLocaleDateString("fr-FR")} ${s.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}`}}},C={class:"row"},P={class:"col-md-6 mb-4"},V={class:"card"},D={class:"card-body"},E={class:"mb-3"},N=["value"],S={class:"mb-3"},T={key:0,class:"invalid-feedback"},U={class:"row mb-3"},z={class:"col-md-6"},L={key:0,class:"invalid-feedback"},q={class:"col-md-6"},A={key:0,class:"invalid-feedback"},B={class:"mb-3"},M={key:0,class:"invalid-feedback"},R={class:"row mb-3"},F={class:"col-md-4"},j={key:0,class:"invalid-feedback"},I={class:"col-md-5"},O={key:0,class:"invalid-feedback"},G={class:"col-md-3"},J={key:0,class:"invalid-feedback"},H={class:"d-grid"},K=["disabled"],Q={key:0},W={key:1},X={class:"col-md-6 mb-4"},Y={class:"card"},Z={class:"card-body"},$={class:"table table-borderless"},ee=["href"],se={key:0,class:"card mt-4"},le={class:"card-body"},te={class:"table table-borderless"};function oe(d,s,l,ie,t,b){const v=p("ClientLayout");return r(),_(v,{title:"Mon Profil"},{default:g(()=>[s[31]||(s[31]=e("div",{class:"mb-4"},[e("h1",{class:"h3"},"Mon Profil"),e("p",{class:"text-muted"},"Gérez vos informations personnelles")],-1)),e("div",C,[e("div",P,[e("div",V,[s[18]||(s[18]=e("div",{class:"card-header"},[e("h5",{class:"mb-0"},[e("i",{class:"fas fa-user me-2"}),c("Informations Personnelles")])],-1)),e("div",D,[e("form",{onSubmit:s[7]||(s[7]=k((...o)=>b.updateProfile&&b.updateProfile(...o),["prevent"]))},[e("div",E,[s[8]||(s[8]=e("label",{class:"form-label"},"Nom Complet",-1)),e("input",{type:"text",class:"form-control",value:`${l.client.prenom} ${l.client.nom}`,readonly:""},null,8,N),s[9]||(s[9]=e("small",{class:"text-muted"},"Pour modifier votre nom, contactez notre service.",-1))]),e("div",S,[s[10]||(s[10]=e("label",{for:"email",class:"form-label"},"Email *",-1)),m(e("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=o=>t.form.email=o),class:u(["form-control",{"is-invalid":l.errors.email}]),id:"email",required:""},null,2),[[f,t.form.email]]),l.errors.email?(r(),n("div",T,i(l.errors.email),1)):a("",!0)]),e("div",U,[e("div",z,[s[11]||(s[11]=e("label",{for:"telephone",class:"form-label"},"Téléphone",-1)),m(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>t.form.telephone=o),class:u(["form-control",{"is-invalid":l.errors.telephone}]),id:"telephone"},null,2),[[f,t.form.telephone]]),l.errors.telephone?(r(),n("div",L,i(l.errors.telephone),1)):a("",!0)]),e("div",q,[s[12]||(s[12]=e("label",{for:"mobile",class:"form-label"},"Mobile",-1)),m(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=o=>t.form.mobile=o),class:u(["form-control",{"is-invalid":l.errors.mobile}]),id:"mobile"},null,2),[[f,t.form.mobile]]),l.errors.mobile?(r(),n("div",A,i(l.errors.mobile),1)):a("",!0)])]),e("div",B,[s[13]||(s[13]=e("label",{for:"adresse",class:"form-label"},"Adresse",-1)),m(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=o=>t.form.adresse=o),class:u(["form-control",{"is-invalid":l.errors.adresse}]),id:"adresse",rows:"2"},null,2),[[f,t.form.adresse]]),l.errors.adresse?(r(),n("div",M,i(l.errors.adresse),1)):a("",!0)]),e("div",R,[e("div",F,[s[14]||(s[14]=e("label",{for:"code_postal",class:"form-label"},"Code Postal",-1)),m(e("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=o=>t.form.code_postal=o),class:u(["form-control",{"is-invalid":l.errors.code_postal}]),id:"code_postal"},null,2),[[f,t.form.code_postal]]),l.errors.code_postal?(r(),n("div",j,i(l.errors.code_postal),1)):a("",!0)]),e("div",I,[s[15]||(s[15]=e("label",{for:"ville",class:"form-label"},"Ville",-1)),m(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>t.form.ville=o),class:u(["form-control",{"is-invalid":l.errors.ville}]),id:"ville"},null,2),[[f,t.form.ville]]),l.errors.ville?(r(),n("div",O,i(l.errors.ville),1)):a("",!0)]),e("div",G,[s[16]||(s[16]=e("label",{for:"pays",class:"form-label"},"Pays",-1)),m(e("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=o=>t.form.pays=o),class:u(["form-control",{"is-invalid":l.errors.pays}]),id:"pays"},null,2),[[f,t.form.pays]]),l.errors.pays?(r(),n("div",J,i(l.errors.pays),1)):a("",!0)])]),e("div",H,[e("button",{type:"submit",class:"btn btn-primary",disabled:t.processing},[s[17]||(s[17]=e("i",{class:"fas fa-save me-2"},null,-1)),t.processing?(r(),n("span",Q,"Enregistrement...")):(r(),n("span",W,"Enregistrer les modifications"))],8,K)])],32)])])]),e("div",X,[e("div",Y,[s[25]||(s[25]=e("div",{class:"card-header"},[e("h5",{class:"mb-0"},[e("i",{class:"fas fa-lock me-2"}),c("Compte Utilisateur")])],-1)),e("div",Z,[e("table",$,[e("tbody",null,[e("tr",null,[s[19]||(s[19]=e("th",{width:"40%"},"Email de connexion:",-1)),e("td",null,i(l.user.email),1)]),e("tr",null,[s[20]||(s[20]=e("th",null,"Dernière connexion:",-1)),e("td",null,i(l.user.last_login_at?b.formatDateTime(l.user.last_login_at):"Jamais"),1)]),e("tr",null,[s[21]||(s[21]=e("th",null,"Compte créé le:",-1)),e("td",null,i(b.formatDate(l.user.created_at)),1)])])]),s[23]||(s[23]=e("hr",null,null,-1)),s[24]||(s[24]=e("div",{class:"alert alert-info"},[e("i",{class:"fas fa-info-circle me-2"}),e("strong",null,"Changement de mot de passe"),e("br"),c(" Pour modifier votre mot de passe, rendez-vous dans les paramètres de votre profil utilisateur. ")],-1)),e("a",{href:d.route("profile.edit"),class:"btn btn-outline-primary w-100"},[...s[22]||(s[22]=[e("i",{class:"fas fa-key me-2"},null,-1),c("Gérer mon mot de passe ",-1)])],8,ee)])]),l.client.type_client==="entreprise"?(r(),n("div",se,[s[30]||(s[30]=e("div",{class:"card-header"},[e("h5",{class:"mb-0"},[e("i",{class:"fas fa-building me-2"}),c("Informations Entreprise")])],-1)),e("div",le,[e("table",te,[e("tbody",null,[e("tr",null,[s[26]||(s[26]=e("th",{width:"40%"},"Raison Sociale:",-1)),e("td",null,i(l.client.raison_sociale||"N/A"),1)]),e("tr",null,[s[27]||(s[27]=e("th",null,"SIRET:",-1)),e("td",null,i(l.client.siret||"N/A"),1)]),e("tr",null,[s[28]||(s[28]=e("th",null,"N° TVA:",-1)),e("td",null,i(l.client.numero_tva||"N/A"),1)])])]),s[29]||(s[29]=e("small",{class:"text-muted"}," Pour modifier ces informations, contactez notre service commercial. ",-1))])])):a("",!0)])]),s[32]||(s[32]=e("div",{class:"card bg-light"},[e("div",{class:"card-body"},[e("h5",null,[e("i",{class:"fas fa-question-circle me-2"}),c("Besoin d'aide ?")]),e("p",{class:"mb-0"}," Pour toute question ou modification ne pouvant être effectuée directement, n'hésitez pas à contacter notre service client. ")])],-1))]),_:1})}const me=x(w,[["render",oe]]);export{me as default};
