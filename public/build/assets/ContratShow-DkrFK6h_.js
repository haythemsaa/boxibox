import{C as b}from"./ClientLayout-8AzT50KU.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as g,f,w as y,a as t,c as d,i as _,d as u,t as l,n as i,o,m as h,F as v,j as x}from"./app-D3-luHWI.js";/* empty css            */const S={components:{ClientLayout:b},props:{contrat:{type:Object,required:!0}},methods:{formatDate(a){return a?new Date(a).toLocaleDateString("fr-FR"):""},formatAmount(a){return a?parseFloat(a).toFixed(2):"0.00"},getStatusBadgeClass(a){return{actif:"badge bg-success",resilie:"badge bg-danger",en_cours:"badge bg-info",termine:"badge bg-secondary"}[a]||"badge bg-warning"},getStatusLabel(a){return{actif:"Actif",resilie:"Résilié",en_cours:"En cours",termine:"Terminé"}[a]||a.charAt(0).toUpperCase()+a.slice(1)},getBoxStatusBadge(a){return{libre:"badge bg-success",occupe:"badge bg-danger",reserve:"badge bg-warning",maintenance:"badge bg-info"}[a]||"badge bg-secondary"},getBoxStatusLabel(a){return{libre:"Libre",occupe:"Occupé",reserve:"Réservé",maintenance:"Maintenance"}[a]||a.charAt(0).toUpperCase()+a.slice(1)},getFactureStatusBadge(a){return{payee:"badge bg-success",paye:"badge bg-success",impayee:"badge bg-danger",en_attente:"badge bg-warning"}[a]||"badge bg-secondary"},getFactureStatusLabel(a){return{payee:"Payée",paye:"Payée",impayee:"Impayée",en_attente:"En attente"}[a]||a}}},C={class:"mb-4"},D=["href"],B={class:"d-flex justify-content-between align-items-center"},w={class:"h3"},F=["href"],L={class:"row"},A={class:"col-md-6 mb-4"},N={class:"card"},k={class:"card-body"},I={class:"table table-borderless"},T={class:"text-primary"},E={class:"col-md-6 mb-4"},R={class:"card"},V={class:"card-body"},j={class:"table table-borderless"},M={key:1},P={key:0,class:"card"},z={class:"card-body"},O={class:"table-responsive"},U={class:"table table-hover"},q={class:"text-end"},G=["href"];function H(a,e,n,J,K,s){const c=g("ClientLayout");return o(),f(c,{title:"Contrat "+n.contrat.numero_contrat},{default:y(()=>[t("div",C,[t("a",{href:a.route("client.contrats"),class:"btn btn-sm btn-secondary mb-2"},[...e[0]||(e[0]=[t("i",{class:"fas fa-arrow-left me-2"},null,-1),u("Retour ",-1)])],8,D),t("div",B,[t("h1",w,"Contrat "+l(n.contrat.numero_contrat),1),t("a",{href:a.route("client.contrats.pdf",n.contrat.id),class:"btn btn-primary"},[...e[1]||(e[1]=[t("i",{class:"fas fa-download me-2"},null,-1),u("Télécharger PDF ",-1)])],8,F)])]),t("div",L,[t("div",A,[t("div",N,[e[9]||(e[9]=t("div",{class:"card-header"},[t("h5",{class:"mb-0"},[t("i",{class:"fas fa-file-contract me-2"}),u("Informations du Contrat")])],-1)),t("div",k,[t("table",I,[t("tbody",null,[t("tr",null,[e[2]||(e[2]=t("th",{width:"40%"},"Numéro:",-1)),t("td",null,[t("strong",null,l(n.contrat.numero_contrat),1)])]),t("tr",null,[e[3]||(e[3]=t("th",null,"Date Début:",-1)),t("td",null,l(s.formatDate(n.contrat.date_debut)),1)]),t("tr",null,[e[4]||(e[4]=t("th",null,"Date Fin:",-1)),t("td",null,l(n.contrat.date_fin?s.formatDate(n.contrat.date_fin):"Indéterminée"),1)]),t("tr",null,[e[5]||(e[5]=t("th",null,"Durée:",-1)),t("td",null,l(n.contrat.duree_mois||"N/A")+" mois",1)]),t("tr",null,[e[6]||(e[6]=t("th",null,"Loyer Mensuel:",-1)),t("td",null,[t("strong",T,l(s.formatAmount(n.contrat.montant_loyer))+" €",1)])]),t("tr",null,[e[7]||(e[7]=t("th",null,"Dépôt de Garantie:",-1)),t("td",null,l(s.formatAmount(n.contrat.depot_garantie||0))+" €",1)]),t("tr",null,[e[8]||(e[8]=t("th",null,"Statut:",-1)),t("td",null,[t("span",{class:i(s.getStatusBadgeClass(n.contrat.statut))},l(s.getStatusLabel(n.contrat.statut)),3)])])])])])])]),t("div",E,[t("div",R,[e[16]||(e[16]=t("div",{class:"card-header"},[t("h5",{class:"mb-0"},[t("i",{class:"fas fa-box me-2"}),u("Informations du Box")])],-1)),t("div",V,[t("table",j,[t("tbody",null,[t("tr",null,[e[10]||(e[10]=t("th",{width:"40%"},"Numéro:",-1)),t("td",null,[t("strong",null,l(n.contrat.box.numero),1)])]),t("tr",null,[e[11]||(e[11]=t("th",null,"Famille:",-1)),t("td",null,[n.contrat.box.famille?(o(),d("span",{key:0,class:"badge",style:h({backgroundColor:n.contrat.box.famille.couleur||"#6c757d"})},l(n.contrat.box.famille.nom),5)):(o(),d("span",M,"N/A"))])]),t("tr",null,[e[12]||(e[12]=t("th",null,"Emplacement:",-1)),t("td",null,l(n.contrat.box.emplacement?.nom||"N/A"),1)]),t("tr",null,[e[13]||(e[13]=t("th",null,"Surface:",-1)),t("td",null,l(n.contrat.box.surface)+" m²",1)]),t("tr",null,[e[14]||(e[14]=t("th",null,"Volume:",-1)),t("td",null,l(n.contrat.box.volume||"N/A")+" m³",1)]),t("tr",null,[e[15]||(e[15]=t("th",null,"Statut:",-1)),t("td",null,[t("span",{class:i(s.getBoxStatusBadge(n.contrat.box.statut))},l(s.getBoxStatusLabel(n.contrat.box.statut)),3)])])])])])])])]),n.contrat.factures&&n.contrat.factures.length>0?(o(),d("div",P,[e[19]||(e[19]=t("div",{class:"card-header"},[t("h5",{class:"mb-0"},[t("i",{class:"fas fa-file-invoice-dollar me-2"}),u("Factures Liées")])],-1)),t("div",z,[t("div",O,[t("table",U,[e[18]||(e[18]=t("thead",null,[t("tr",null,[t("th",null,"N° Facture"),t("th",null,"Date Émission"),t("th",null,"Date Échéance"),t("th",{class:"text-end"},"Montant TTC"),t("th",null,"Statut"),t("th",null,"Actions")])],-1)),t("tbody",null,[(o(!0),d(v,null,x(n.contrat.factures,r=>(o(),d("tr",{key:r.id},[t("td",null,[t("strong",null,l(r.numero_facture),1)]),t("td",null,l(s.formatDate(r.date_emission)),1),t("td",null,l(s.formatDate(r.date_echeance)),1),t("td",q,[t("strong",null,l(s.formatAmount(r.montant_ttc))+" €",1)]),t("td",null,[t("span",{class:i(s.getFactureStatusBadge(r.statut))},l(s.getFactureStatusLabel(r.statut)),3)]),t("td",null,[t("a",{href:a.route("client.factures.show",r.id),class:"btn btn-sm btn-outline-primary"},[...e[17]||(e[17]=[t("i",{class:"fas fa-eye"},null,-1)])],8,G)])]))),128))])])])])])):_("",!0)]),_:1},8,["title"])}const Z=m(S,[["render",H],["__scopeId","data-v-d1b43c10"]]);export{Z as default};
